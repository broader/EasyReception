<html>
<head>
<title>Programming</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link rel="STYLESHEET" href="lib.css">
<style type="text/css">
<!--
dl {  background-color: #FFFFCC; border-width: 1; border-style:solid;}
-->
</style></head>

<body>

<h1><%= chapter %>. Environment data</h1>

<p>Access to the HTTP environment is provided through global variables available in the script's
namespace :
<ul>
<li><code>ENVIRON</code> is a dictionary with the CGI environment variables : 
<code>SERVER-SOFTWARE, REQUEST-METHOD, QUERY-STRING,</code>, etc.
<li><code>HEADERS</code> is a dictionary with the HTTP headers sent by the server : 
the key is the header name, the value is the header's value. For instance 
<code>HEADERS["accept-language"]</code> will return the value of the 
<var>accept-language</var> header
<li><CODE>Role()</CODE> is a function that returns the user's role, as defined in the
built-in user management framework (see the chapter on 
<%= make_link("authentication","authentication") %>
<li><code>COOKIE</code> is a dictionary-like SimpleCookie object (in Python <code>Cookie</code>
module) that stores the cookies sent by the web browser with the HTTP request
<li><code>ACCEPTED_LANGUAGES</code> is a list of languages accepted by the 
user's browser, ordered by preference. The items are two-character strings identifying 
the language, according to the ISO 639 codification (<code>en</code> for English, 
<code>fr</code> for French, etc)
<li><code>THIS</code> is an instance of the class <code>Target</code> (in 
<span class="file">k_target.py</span>) representing the current script
<li><code>RESPONSE</code> is a dictionary in which you'll set values for the response 
header that will be sent to the server. This dictionary is insensitive to the 
case of the keys : <CODE>RESPONSE['Content-type']</CODE> and <CODE>RESPONSE['CONTENT-type']</CODE> 
return the same result
<li><code>SET_COOKIE</code> is another SimpleCookie object to which you can set keys and values 
which will be stored by the web browser as cookies
</ul>

<p>The list of built-in names is described in the 
<%= make_link("namespace","namespace") %> section

</body>
</html>


